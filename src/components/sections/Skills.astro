---
import Section from "../Section.astro"
import HTML from "@/icons/html.astro"
import CSS from "@/icons/css.astro"
import JavaScript from "@/icons/javascript.astro"
import AstroIcon from "@/icons/AstroIcon.astro"
import React from "@/icons/react.astro"
import Node from "@/icons/node.astro"
import MySQL from "@/icons/sql.astro"
import Git from "@/icons/git.astro"
import GitHub from "@/icons/GitHub.astro"
import Mcp from "@/icons/Mcp.astro"

import { skills } from "@cv"

const SKILLS_ICONS: Record<string, any> = {
  HTML,
  AstroIcon,
  Mcp,
  CSS,
  JavaScript,
  React,
  Node,
  MySQL,
  Git,
  GitHub,
}

const SKILL_ALIASES: Record<string, string> = {
  "React / Native": "React",
   "Astro": "AstroIcon",
   "Model Context Protocol" : "Mcp"
}

const SKILL_SECTIONS = [
  {
    title: "Frontend",
    names: ["React / Native", "Astro", "JavaScript", "CSS", "HTML"],
  },
  {
    title: "Backend",
    names: ["Node", "MySQL"],
  },
  {
    title: "Herramientas",
    names: ["Git", "GitHub", "Model Context Protocol"],
  },
]
---

<Section id="skills-section"  title="Habilidades">
  <div class="groups">
    {
      SKILL_SECTIONS.map(({ title, names }) => {
        const sectionSkills = skills.filter(({ name }) => names.includes(name))

        return (
          <div class="group">
            <p>â€¢ {title}</p>
            <ul>
              {
                sectionSkills.map(({ name }) => {
                  const iconName = SKILL_ALIASES[name] ?? name
                  const Icon = SKILLS_ICONS[iconName]

                  return (
                    <li>
                      {Icon && <Icon />} <span>{name}</span>
                    </li>
                  )
                })
              }
            </ul>
          </div>
        )
      })
    }
  </div>
</Section>

<style>
  .groups {
    display: grid;
    gap: 14px;
  }

  .group {
    display: grid;
    gap: 8px;
  }

  h3 {
    font-size: 0.95rem;
    font-weight: 700;
  }

  ul {
    display: inline-flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  li {
    align-items: center;
    background: #eee;
    border-radius: 6px;
    color: black;
    display: flex;
    font-size: 0.8rem;
    font-weight: 500;
    gap: 4px;
    padding: 0.2rem 0.6rem;
  }
</style>
